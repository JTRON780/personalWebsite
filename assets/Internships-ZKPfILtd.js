import{r as a,j as s,m as w}from"./index-Ciypl3LG.js";import{e as f}from"./profile-CYWeoX7D.js";const S=()=>{const[c,p]=a.useState(0),[x,j]=a.useState([]),d=a.useRef([]),N=a.useRef(null),h=a.useRef(null);a.useEffect(()=>{let e=!1;const r=()=>{const n=window.scrollY+window.innerHeight/2;let i=0,u=Number.POSITIVE_INFINITY;d.current.forEach((l,o)=>{if(!l)return;const v=l.getBoundingClientRect(),R=v.top+window.scrollY+v.height/2,y=Math.abs(R-n);y<u&&(u=y,i=o)}),p(l=>l===i?l:i)},t=()=>{e||(window.requestAnimationFrame(()=>{r(),e=!1}),e=!0)};return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t),r(),()=>{window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[]);const g=a.useCallback(()=>{if(!h.current)return;const e=h.current.getBoundingClientRect().top+window.scrollY,r=[];d.current.forEach(t=>{if(!t)return;const n=t.getBoundingClientRect(),i=n.top+window.scrollY+n.height/2-e;r.push(i)}),j(r)},[]);a.useEffect(()=>{g();const e=setTimeout(g,120);return window.addEventListener("resize",g),()=>{clearTimeout(e),window.removeEventListener("resize",g)}},[g]);const b=a.useCallback(e=>{e.key==="ArrowDown"?(e.preventDefault(),p(r=>{const t=Math.min(r+1,f.length-1),n=d.current[t];return n&&n.scrollIntoView({behavior:"smooth",block:"center"}),t})):e.key==="ArrowUp"&&(e.preventDefault(),p(r=>{const t=Math.max(r-1,0),n=d.current[t];return n&&n.scrollIntoView({behavior:"smooth",block:"center"}),t}))},[]);a.useEffect(()=>(window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)),[b]);const C={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,.68,.32,.98]}},inactive:{opacity:.75,transition:{duration:.4}}},k={"fidelity investments":{accent:"#007A33",logoBg:"#f3fbf7",tagBg:"#e1f3eb"},"waters corporation":{accent:"#4F6F7F",logoBg:"#f3f6f8",tagBg:"#e4edf2"},"build umass":{accent:"#C8102E",logoBg:"#fff5f5",tagBg:"#fbe4e7"},"mit lincoln laboratory":{accent:"#003057",logoBg:"#f4f8fb",tagBg:"#e3ebf2"}},E={accent:"#6366F1",logoBg:"#f5f6ff",tagBg:"#e3e7ff"},m=e=>{var t;const r=(t=f[e])==null?void 0:t.company.toLowerCase();return r&&k[r]||E},B=["Python","SQL","Kdb+/Q","Docker","Agile","Kubernetes","Linux","Jenkins","C","Assembly","AES-GCM","UI Path","C#","Microsoft Graph","REST","APIs","JavaScript","Intune","SharePoint","React","MongoDB","MERN","MLflow","Trading"],I=e=>{const r=[],t=e.join(` 
 `);return B.forEach(n=>{new RegExp(`\\b${n.replace(/\+/g,"\\+")}(?:(?:\\b)|$)`).test(t)&&!r.includes(n)&&r.push(n)}),r.slice(0,6)};return s.jsxs("div",{className:"w-full px-4",ref:N,children:[s.jsx("h2",{className:"text-4xl font-bold mb-16 text-center bg-gradient-to-r from-indigo-600 to-violet-600 text-transparent bg-clip-text",children:"Professional Experience"}),s.jsxs("div",{className:"relative max-w-3xl mx-auto",ref:h,children:[s.jsxs("div",{className:"hidden md:block absolute left-0 -ml-12 top-0 bottom-0",children:[s.jsx("div",{className:"w-px h-full bg-gradient-to-b from-indigo-300 via-indigo-500/40 to-violet-400/70 opacity-60"}),x.length>0&&s.jsx(w.div,{className:"absolute left-0 top-0 w-px","aria-hidden":"true",initial:!1,animate:{height:x[c],backgroundColor:m(c).accent},transition:{type:"spring",stiffness:160,damping:28},style:{height:x[c]||0,backgroundColor:m(c).accent}}),x.map((e,r)=>{const t=m(r),n=r===c;return s.jsx("div",{className:"absolute -ml-[7px] w-4 h-4 rounded-full border-2 bg-white dark:bg-gray-900 transition-colors duration-300",style:{top:e-8,borderColor:t.accent,boxShadow:n?`0 0 0 4px ${t.accent}40`:"none"}},r)})]}),s.jsxs("p",{className:"sr-only","aria-live":"polite",children:["Currently viewing experience ",c+1," of ",f.length]}),s.jsx("div",{className:"space-y-28",children:f.map((e,r)=>{const t=r===c,n=m(r),i=e.bullets.map(o=>o.text),u=I(i),l=/present/i.test(e.end);return s.jsxs(w.div,{ref:o=>{o&&(d.current[r]=o)},variants:C,initial:"hidden",animate:t?"visible":"inactive",whileInView:"visible",viewport:{amount:.55,once:!1},tabIndex:0,"aria-current":t,className:`relative rounded-2xl border backdrop-blur-sm transition-all duration-500 px-0 pt-0 pb-8 shadow-lg scroll-mt-32 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/70 overflow-hidden
                  ${t?"bg-white/75 dark:bg-gray-800/70 border-transparent":"bg-white/45 dark:bg-gray-800/40 border-transparent"}
                `,style:t?{boxShadow:`0 4px 28px -4px ${n.accent}33, 0 0 0 1px ${n.accent}40`}:void 0,children:[s.jsxs("div",{className:"experience-header flex items-stretch gap-5 px-6 sm:px-10 py-6 border-l-[5px]",style:{borderLeftColor:n.accent},children:[s.jsx("div",{className:"company-logo rounded-lg flex items-center justify-center shrink-0 shadow-inner",style:{backgroundColor:n.logoBg,width:"70px",height:"70px"},children:e.logo&&s.jsx("img",{src:e.logo,alt:e.company+" logo",className:"w-12 h-12 object-contain",loading:"lazy",onError:o=>{o.currentTarget.style.opacity="0.3"}})}),s.jsxs("div",{className:"experience-title flex flex-col justify-center min-w-0",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight",children:e.company}),s.jsx("h4",{className:"text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 mb-1",children:e.role}),e.description&&s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 italic mb-2",children:e.description}),s.jsxs("div",{className:"experience-subtitle flex flex-wrap items-center gap-x-3 gap-y-1 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{className:"dates font-medium",children:[e.start," â€“ ",e.end]}),s.jsx("span",{className:"location",children:e.location}),l&&s.jsx("span",{className:"current-badge text-[10px] sm:text-xs font-semibold uppercase tracking-wide px-2 py-0.5 rounded-full",style:{backgroundColor:n.tagBg,color:n.accent},children:"Current"})]})]})]}),s.jsx("div",{className:"experience-body px-6 sm:px-10 mt-4",children:u.length>0&&s.jsx("div",{className:"technologies flex flex-wrap gap-2",children:u.map(o=>s.jsx("span",{className:"tech-tag text-[10px] sm:text-xs font-medium px-2.5 py-1 rounded-full border",style:{backgroundColor:n.tagBg,color:n.accent,borderColor:n.accent+"33"},children:o},o))})}),t&&s.jsx(w.div,{layoutId:"activeGlow",className:"pointer-events-none absolute -inset-px rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{background:`radial-gradient(circle at 30% 20%, ${n.accent}2A, transparent 70%)`}})]},e.company+e.start)})})]})]})};export{S as default};
