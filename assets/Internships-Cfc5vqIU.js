import{r as a,j as t,m as C}from"./index-xvfLagY-.js";import{e as v}from"./profile-CiII3Ibp.js";const D=()=>{const[c,y]=a.useState(0),[b,E]=a.useState([]),[B,I]=a.useState(new Set),g=a.useRef([]),L=a.useRef(null),j=a.useRef(null);a.useEffect(()=>{let e=!1;const n=()=>{const s=window.scrollY+window.innerHeight/2;let i=0,m=Number.POSITIVE_INFINITY;g.current.forEach((l,u)=>{if(!l)return;const f=l.getBoundingClientRect(),k=f.top+window.scrollY+f.height/2,o=Math.abs(k-s);o<m&&(m=o,i=u)}),y(l=>l===i?l:i)},r=()=>{e||(window.requestAnimationFrame(()=>{n(),e=!1}),e=!0)};return window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",r),n(),()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[]);const d=a.useCallback(()=>{if(!j.current)return;const e=j.current.getBoundingClientRect().top+window.scrollY,n=[];g.current.forEach(r=>{if(!r)return;const s=r.getBoundingClientRect(),i=s.top+window.scrollY+s.height/2-e;n.push(i)}),E(n)},[]);a.useEffect(()=>{d();const e=setTimeout(d,120);return window.addEventListener("resize",d),()=>{clearTimeout(e),window.removeEventListener("resize",d)}},[d]);const N=a.useCallback(e=>{e.key==="ArrowDown"?(e.preventDefault(),y(n=>{const r=Math.min(n+1,v.length-1),s=g.current[r];return s&&s.scrollIntoView({behavior:"smooth",block:"center"}),r})):e.key==="ArrowUp"&&(e.preventDefault(),y(n=>{const r=Math.max(n-1,0),s=g.current[r];return s&&s.scrollIntoView({behavior:"smooth",block:"center"}),r}))},[]);a.useEffect(()=>(window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)),[N]);const S={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.5,ease:[.22,.68,.32,.98]}},inactive:{opacity:.75,transition:{duration:.4}}},_={"fidelity investments":{accent:"#007A33",logoBg:"#f3fbf7",tagBg:"#e1f3eb"},"waters corporation":{accent:"#4F6F7F",logoBg:"#f3f6f8",tagBg:"#e4edf2"},"build umass":{accent:"#C8102E",logoBg:"#fff5f5",tagBg:"#fbe4e7"},"mit lincoln laboratory":{accent:"#003057",logoBg:"#f4f8fb",tagBg:"#e3ebf2"}},A={accent:"#6366F1",logoBg:"#f5f6ff",tagBg:"#e3e7ff"},w=e=>{var r;const n=(r=v[e])==null?void 0:r.company.toLowerCase();return n&&_[n]||A},R=["Python","SQL","Kdb+/Q","Docker","Kubernetes","Linux","Jenkins","C","Assembly","AES-GCM","UI Path","C#","Microsoft Graph","REST","APIs","JavaScript","Intune","SharePoint","React","MongoDB"],T=e=>{const n=[],r=e.join(` 
 `);return R.forEach(s=>{new RegExp(`\\b${s.replace(/\+/g,"\\+")}(?:(?:\\b)|$)`).test(r)&&!n.includes(s)&&n.push(s)}),n.slice(0,6)};return t.jsxs("div",{className:"w-full px-4",ref:L,children:[t.jsx("h2",{className:"text-4xl font-bold mb-16 text-center bg-gradient-to-r from-indigo-600 to-violet-600 text-transparent bg-clip-text",children:"Professional Experience"}),t.jsxs("div",{className:"relative max-w-3xl mx-auto",ref:j,children:[t.jsxs("div",{className:"hidden md:block absolute left-0 -ml-12 top-0 bottom-0",children:[t.jsx("div",{className:"w-px h-full bg-gradient-to-b from-indigo-300 via-indigo-500/40 to-violet-400/70 opacity-60"}),b.length>0&&t.jsx(C.div,{className:"absolute left-0 top-0 w-px","aria-hidden":"true",initial:!1,animate:{height:b[c],backgroundColor:w(c).accent},transition:{type:"spring",stiffness:160,damping:28},style:{height:b[c]||0,backgroundColor:w(c).accent}}),b.map((e,n)=>{const r=w(n),s=n===c;return t.jsx("div",{className:"absolute -ml-[7px] w-4 h-4 rounded-full border-2 bg-white dark:bg-gray-900 transition-colors duration-300",style:{top:e-8,borderColor:r.accent,boxShadow:s?`0 0 0 4px ${r.accent}40`:"none"}},n)})]}),t.jsxs("p",{className:"sr-only","aria-live":"polite",children:["Currently viewing experience ",c+1," of ",v.length]}),t.jsx("div",{className:"space-y-28",children:v.map((e,n)=>{const r=n===c,s=w(n),i=e.bullets.map(o=>o.text),m=T(i),l=/present/i.test(e.end),u=B.has(n),f=2,k=u?e.bullets:e.bullets.slice(0,f);return t.jsxs(C.div,{ref:o=>{o&&(g.current[n]=o)},variants:S,initial:"hidden",animate:r?"visible":"inactive",whileInView:"visible",viewport:{amount:.55,once:!1},tabIndex:0,"aria-current":r,className:`relative rounded-2xl border backdrop-blur-sm transition-all duration-500 px-0 pt-0 pb-8 shadow-lg scroll-mt-32 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/70 overflow-hidden
                  ${r?"bg-white/75 dark:bg-gray-800/70 border-transparent":"bg-white/45 dark:bg-gray-800/40 border-transparent"}
                `,style:r?{boxShadow:`0 4px 28px -4px ${s.accent}33, 0 0 0 1px ${s.accent}40`}:void 0,children:[t.jsxs("div",{className:"experience-header flex items-stretch gap-5 px-6 sm:px-10 py-6 border-l-[5px]",style:{borderLeftColor:s.accent},children:[t.jsx("div",{className:"company-logo rounded-lg flex items-center justify-center shrink-0 shadow-inner",style:{backgroundColor:s.logoBg,width:"70px",height:"70px"},children:e.logo&&t.jsx("img",{src:e.logo,alt:e.company+" logo",className:"w-12 h-12 object-contain",loading:"lazy",onError:o=>{o.currentTarget.style.opacity="0.3"}})}),t.jsxs("div",{className:"experience-title flex flex-col justify-center min-w-0",children:[t.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight",children:e.company}),t.jsx("h4",{className:"text-sm sm:text-base font-medium text-gray-700 dark:text-gray-300 mb-1",children:e.role}),t.jsxs("div",{className:"experience-subtitle flex flex-wrap items-center gap-x-3 gap-y-1 text-xs sm:text-sm text-gray-500 dark:text-gray-400",children:[t.jsxs("span",{className:"dates font-medium",children:[e.start," – ",e.end]}),t.jsx("span",{className:"location",children:e.location}),l&&t.jsx("span",{className:"current-badge text-[10px] sm:text-xs font-semibold uppercase tracking-wide px-2 py-0.5 rounded-full",style:{backgroundColor:s.tagBg,color:s.accent},children:"Current"})]})]})]}),t.jsxs("div",{className:"experience-body px-6 sm:px-10 mt-4",children:[t.jsx("ul",{className:"experience-details space-y-2 text-sm sm:text-[15px] leading-relaxed text-gray-700 dark:text-gray-300",children:k.map((o,x)=>t.jsx("li",{className:"pl-1",children:o.highlights?o.highlights.reduce((p,h)=>p.replace(h,`__HL__${h}__HL__`),o.text).split("__HL__").map((p,h)=>o.highlights.includes(p)?t.jsx("strong",{children:p},h):t.jsx("span",{children:p},h)):o.text},x))}),e.bullets.length>f&&t.jsxs("button",{type:"button","aria-expanded":u,onClick:()=>{I(o=>{const x=new Set(o);return x.has(n)?x.delete(n):x.add(n),x}),requestAnimationFrame(()=>d())},className:"mt-3 text-xs font-medium tracking-wide inline-flex items-center gap-1 text-indigo-600 dark:text-indigo-400 hover:underline focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-400/70 rounded",style:{color:s.accent},children:[u?"Show fewer":"Show more",t.jsx("span",{"aria-hidden":"true",className:"transition-transform duration-300",style:{transform:u?"rotate(180deg)":"rotate(0deg)"},children:"▾"})]}),m.length>0&&t.jsx("div",{className:"technologies flex flex-wrap gap-2 mt-5",children:m.map(o=>t.jsx("span",{className:"tech-tag text-[10px] sm:text-xs font-medium px-2.5 py-1 rounded-full border",style:{backgroundColor:s.tagBg,color:s.accent,borderColor:s.accent+"33"},children:o},o))})]}),r&&t.jsx(C.div,{layoutId:"activeGlow",className:"pointer-events-none absolute -inset-px rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{background:`radial-gradient(circle at 30% 20%, ${s.accent}2A, transparent 70%)`}})]},e.company+e.start)})})]})]})};export{D as default};
